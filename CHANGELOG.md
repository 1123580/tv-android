# 更新日志

## [3.3.2] - 2024-10-30

### 新增

- media3扩展av3a，支持更多设备
- 新增应用崩溃拦截界面
- 支持m3u订阅源多行地址（聚合模式）
- 订阅源自定义转换js
- 首页订阅源长按（清除缓存并重启）
- 支持mpd DRM（仅media3）
- 支持视轨、音轨切换（仅media3）

### 优化

- 模糊匹配epg名称
- 优化epg解析逻辑，采用stream流，减少内存占用
- 重构频道收藏逻辑，切换订阅源后依旧保留
- 优化多线路记忆
- 优化应用模块初始化顺序
- 收藏界面根据订阅源分组
- 时间显示背景透明
- 推送订阅源后应用到当前
- 支持直播源$备注，播放时自动移除
- 完善配置页面

### 修复

- 修复应用关闭后，设置服务未及时关闭
- 修复ijkplayer起播卡顿
- 修复不同flavor云端数据恢复错误

## [3.3.0] - 2024-10-10

### 新增

- m3u直播源支持多分组，例如：group-title="group1;group2"
- 新增换台列表首尾循环（设置/控制）
- 新增ijkPlayer播放器内核，支持av3a
- 新增播放器渲染方式（SurfaceView、TextureView）

### 优化

- 推送服务后台运行
- 点击二维码网页跳转
- 切换更新通道时立即检查更新
- 优化m3u直播源 x-tvg-url解析
- 优化txt直播源对注释的处理
- 优化分辨率tag名称
- 优化频道图标覆盖逻辑，覆盖图片若无法显示切换至原图标
- 优化播放器详细信息
- 优化相似频道合并、直播源混合速度

### 修复

- 修复预约UI未刷新
- 修复部分场景下闪退
- 缓解ANR问题

## [3.2.0] - 2024-09-29

### 新增

- 新增云同步（支持github gist、gitee gist、网络链接）
- 支持xmltv icon字段、多个display-name标记频道别名
- 支持节目单跟随直播源
- 支持频道别名通用后缀
- 支持画中画（设置/应用）

### 优化

- 添加播放器错误中文提示
- 优化触摸设备点击
- 优化相似频道合并时多线路名称
- 优化部分直播界面

### 修复

- 修复鸿蒙超级桌面未全屏
- 修复部分场景下节目单未刷新

## [3.1.0] - 2024-09-13

### 新增

- 新增多屏同播（Beta）
- 新增频道别名、相似频道合并
- 新增应用主题：copy from qq超级调色盘
- 新增频道图标强制覆盖
- 支持m3u文件中的 http-user-agent 参数，支持针对单个频道设置UA

### 优化

- 优化触摸设备焦点

### 修复

- 修复部分场景下闪退

## [3.0.0] - 2024-09-01

- 重构
